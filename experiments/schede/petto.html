<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Petto</title>
<link rel="stylesheet" href="../../style.css">
</head>

<body>

<h1>ðŸ§± Petto</h1>

<div class="card">
  <h2>Panca Piana</h2>
  <div class="controls">
    <button onclick="chg('panca',-2)">âˆ’</button>
    <span id="panca" class="value">60</span>
    <button onclick="chg('panca',2)">+</button>
  </div>
</div>

<div class="card">
  <h2>Panca Inclinata</h2>
  <div class="controls">
    <button onclick="chg('incl',-2)">âˆ’</button>
    <span id="incl" class="value">40</span>
    <button onclick="chg('incl',2)">+</button>
  </div>
</div>

<div class="card">
  <h2>Croci</h2>
  <div class="controls">
    <button onclick="chg('croci',-2)">âˆ’</button>
    <span id="croci" class="value">20</span>
    <button onclick="chg('croci',2)">+</button>
  </div>
</div>

<button class="btn-main" onclick="saveWorkout()">
  ðŸ’¾ Salva allenamento
</button>

<a class="card" href="../allenamenti.html">â¬… Allenamenti</a>

<script>
const SCHEMA = "petto";

function chg(id,v){
  const el=document.getElementById(id);
  const val=Math.max(0,(+el.textContent||0)+v);
  el.textContent=val;
  localStorage.setItem(SCHEMA+"_"+id,val);
}

document.querySelectorAll(".value").forEach(el=>{
  const v=localStorage.getItem(SCHEMA+"_"+el.id);
  if(v) el.textContent=v;
});

function saveWorkout(){
  const data = {
    date: new Date().toISOString().slice(0,10),
    scheda: SCHEMA,
    panca: document.getElementById("panca").textContent,
    incl: document.getElementById("incl").textContent,
    croci: document.getElementById("croci").textContent
  };

  const key = "storico_"+SCHEMA;
  const history = JSON.parse(localStorage.getItem(key) || "[]");
  history.push(data);
  localStorage.setItem(key, JSON.stringify(history));

  alert("Allenamento salvato ðŸ’ª");
}
</script>

</body>
</html>
